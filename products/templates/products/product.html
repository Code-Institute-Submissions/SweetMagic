{% extends "base.html" %}
{% load static %}

{% block content %}

<div class="container-fluid">
        <div class="row justify-content-center">
            <div class="col-12 col-md-6 col-lg-5">
                <div class="row no-gutters my-3 product_image">
                    {% if product.image %}
                        <a href="{{ product.image.url }}" target="_blank">
                            <img class="card-img-top product-image" src="{{ product.image_url }}" alt="{{ product.name }}">
                        </a>
                    {% else %}
                        <a href="">
                            <img class="card-img-top product-image" src="{{ MEDIA_URL }}noimage.png" alt="{{ product.name }}">
                        </a>
                    {% endif %}
                </div>
            </div>
            <div class="col-12 col-md-6 col-lg-5">
                <div class="my-3 product_details">
                    <p class="text-black size-big"><strong>{{ product.name }}</strong></p>
                    {% if not product.price == 0.00 %}
                        <p class="text-black"><strong>{{ product.price }}â‚¬</strong> {% if not product.quantity == 1 %} / {{ product.quantity }}units {% endif %}</p>
                    {% endif %}
                    <p class="text-black">{{ product.description }}</p>
                    {% if product.category %}
                        <p class="text-grey">
                            <a href="{% url 'products' %}?category={{ product.category.name }}">
                                <i class="fas fa-bookmark"></i> {{ product.category.viewer_name }}
                            </a>
                        </p>
                    {% endif %}
                </div>
                {% if not product.price == 0.00 %}
                    <div class="my-3 add_product">
                        <h4 class="text-black">Order now</h4>
                        <form class="add-form py-3" action="{% url 'add_to_bag' product.id %}" method="POST">
                            {% csrf_token %}
                            <div class="form-group">
                                <label for="quantity_{{ product.id }}" class="text-black">Quantity</label>
                                <input type="number" class="form-control mt-2" id="quantity_{{ product.id }}" name="quantity" value="1" min="1" max="99" data-item_id="{{ product.id }}">
                            </div>
                            {% if product.category.name == "cookies" %}
                                <div class="form-group">
                                    <label for="cookie_{{ product.id }}" class="text-black">Cake</label>
                                    <select class="form-control" id="cookie_{{ product.id }}" name="flavour">
                                        <option>Butter Cookie</option>
                                        <option>Cinnamon Cookie</option>
                                        <option>Lemon Cookie</option>
                                    </select>
                                </div>
                            {% elif product.category.name == "cupcakes" %}
                                <div class="form-group">
                                    <label for="cupcake_{{ product.id }}" class="text-black">Cupcake</label>
                                    <select class="form-control" id="cupcake_{{ product.id }}" name="flavour">
                                        <option>Chocolate Cupcake</option>
                                        <option>Iogurt Cupcake</option>
                                    </select>
                                </div>
                            {% endif %}
                            <div class="form-group">
                                <label for="notes_{{ product.id }}" class="text-black">Notes</label>
                                <input type="text" class="form-control mt-2" id="notes_{{ product.id }}" placeholder="Please give us a bit more information about your product">
                            </div>
                            <div class="row no-gutters justify-content-end">
                                <input type="submit" class="btn btn-primary my-submit-btn text-black" value="Add to Bag">
                            </div>
                            <input type="hidden" name="redirect_url" value="{{ request.path }}">
                        </form>
                    </div>
                {% else %}
                    <div class="my-3 quotation">
                        <h4 class="text-black">Ask for quotation</h4>
                        <form class="add-form py-2" action="" method="POST"> <!-- Not connected yet -->
                            {% csrf_token %}
                            <div class="form-group mb-2">
                                <label for="email" class="text-black">Email address</label>
                                <input type="email" class="form-control mt-2" id="email" placeholder="Please enter your email">
                            </div>
                            <div class="form-group mb-2">
                                <label for="name" class="text-black">Name</label>
                                <input type="text" class="form-control mt-2" id="name" placeholder="Please enter your name">
                            </div>
                            <div class="form-group mb-2">
                                <label for="q_quantity_{{ product.id }}" class="text-black">Quantity</label>
                                <input type="number" class="form-control mt-1" id="q_quantity_{{ product.id }}" name="quantity" value="1" min="1" max="99" data-item_id="{{ product.id }}">
                            </div>
                            {% if product.category.name != "thematic_tables" %}
                                <div class="form-group">
                                    <label for="cake_{{ product.id }}" class="text-black">Cake</label>
                                    <select class="form-control" id="cake_{{ product.id }}">
                                        <option>Sponge Cake</option>
                                        <option>Lemon Cake</option>
                                        <option>Chocolate Cake</option>
                                        <option>Iogurt Cake</option>
                                        <option>Red Velvet Cake</option>
                                        <option>Pineapple Cake</option>
                                        <option>Coconut Cake</option>
                                        <option>Carot Cake</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="cakecream_{{ product.id }}" class="text-black">Cream</label>
                                    <select class="form-control" id="cakecream_{{ product.id }}">
                                        <option>Dark Chocolate Cream</option>
                                        <option>White Chocolate Cream</option>
                                        <option>Milk Chocolate Cream</option>
                                        <option>Nutella</option>
                                        <option>Chantilly</option>
                                        <option>Chantilly with Pineapple</option>
                                        <option>Chantilly with Strawberry</option>
                                        <option>Chantilly with Passionfruit</option>
                                        <option>Chantilly with Mango</option>
                                        <option>Red Berries Cream</option>
                                        <option>Strawberry Cream</option>
                                        <option>Oreo Cream</option>
                                        <option>No-Cream</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="cakeextra_{{ product.id }}" class="text-black">Extras</label>
                                    <select class="form-control" id="cakeextra_{{ product.id }}">
                                        <option>None</option>
                                        <option>Nuts</option>
                                        <option>Almond</option>
                                        <option>Hazelnut</option>
                                        <option>Chocolate Bits</option>
                                        <option>Fruit Bits</option>
                                        <option>Oreo</option>
                                    </select>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="request_{{ product.id }}" class="text-black">Additional Information</label>
                                    <input type="text" class="form-control mt-1" id="request_{{ product.id }}" placeholder="Please give us all the information about your wish">
                                </div>
                            {% else %}
                                <div class="form-group mb-3">
                                    <label for="requesttable_{{ product.id }}" class="text-black">Table Information</label>
                                    <textarea class="form-control mt-1" id="requesttable_{{ product.id }}" placeholder="Please give us all the information about the products you wish to have on your table"></textarea>
                                </div>
                            {% endif %}
                            <div class="row no-gutters justify-content-end">
                                <button type="submit" class="btn btn-primary my-submit-btn"><p class="text-black">Place request</p></button>
                            </div>
                        </form>
                    </div>
                {% endif %}
            </div>
        </div>
    </div>

{% endblock %}